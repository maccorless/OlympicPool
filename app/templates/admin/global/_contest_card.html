{# Individual contest card with shareable URL and stats #}
<div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
    <div class="flex items-start justify-between mb-3">
        <div class="flex-1">
            <div class="flex items-center gap-2 mb-2">
                <h4 class="text-base font-bold text-gray-900">{{ contest.name }}</h4>
                {% if contest.state == 'setup' %}
                    <span class="px-2 py-1 bg-gray-100 text-gray-700 text-xs font-semibold rounded">Setup</span>
                {% elif contest.state == 'open' %}
                    <span class="px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded">Open</span>
                {% elif contest.state == 'locked' %}
                    <span class="px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded">Locked</span>
                {% elif contest.state == 'complete' %}
                    <span class="px-2 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded">Complete</span>
                {% endif %}
            </div>

            {# Shareable URL - prominently displayed #}
            <div class="mb-3">
                <div class="flex items-center gap-2">
                    <a href="{{ url_for('contest_home', event_slug=contest.event_slug, contest_slug=contest.slug) }}"
                       target="_blank"
                       class="text-sm text-blue-600 hover:underline font-mono break-all">
                        {{ base_url.rstrip('/') }}/{{ contest.event_slug }}/{{ contest.slug }}
                    </a>
                    <button onclick="copyContestUrl('{{ base_url.rstrip('/') }}/{{ contest.event_slug }}/{{ contest.slug }}', this)"
                            class="px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 whitespace-nowrap">
                        Copy URL
                    </button>
                </div>
            </div>

            {# Contest stats #}
            <div class="text-sm text-gray-600 mb-2">
                <span class="font-mono bg-white px-2 py-1 rounded border border-gray-200">{{ contest.slug }}</span>
            </div>
            <div class="text-sm text-gray-500">
                ğŸ‘¥ {{ contest.user_count }} user(s) â€¢
                ğŸ“‹ {{ contest.pick_count }} pick(s) â€¢
                Budget: {{ contest.budget }} â€¢
                Max: {{ contest.max_countries }} countries
            </div>
        </div>

        {# Actions #}
        <div class="flex gap-2 ml-4">
            <a href="/{{ contest.event_slug }}/{{ contest.slug }}/admin"
               class="px-3 py-1 bg-purple-600 text-white text-sm rounded hover:bg-purple-700">
                Manage
            </a>
            <a href="{{ url_for('global_admin_contest_edit', contest_id=contest.id) }}"
               class="px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700">
                Edit
            </a>
            <form method="POST" action="{{ url_for('global_admin_contest_delete', contest_id=contest.id) }}" class="inline">
                <button type="submit"
                        class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700">
                    Delete
                </button>
            </form>
        </div>
    </div>
</div>
